<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farm Dashboard</title>

    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons for vector icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* Base styles and font setup */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            /* Light gray for login page */
            transition: background-color 0.3s ease-in-out;
        }

        body.app-active {
            background-color: #f8fafc;
            /* Light gray for the main app */
        }

        /* Custom progress bar utility */
        .progress-bar {
            background-color: #e5e7eb;
            /* Gray-200 */
        }

        .progress-bar-fill {
            background-color: #22c55e;
            /* Green-500 */
        }

        /* Style for date picker icon */
        input[type="date"]::-webkit-calendar-picker-indicator,
        input[type="time"]::-webkit-calendar-picker-indicator {
            filter: invert(0.6) brightness(1);
        }

        /* Simple loader style */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body class="text-gray-800">

    <!-- Hidden file inputs -->
    <input type="file" id="prescription-scanner" class="hidden" accept="image/*">
    <input type="file" id="vet-certification-upload" class="hidden" accept=".pdf,.jpg,.jpeg,.png">

    <!-- Role Selection Page -->
    <div id="role-selection-page"
        class="max-w-4xl mx-auto min-h-screen flex flex-col justify-center items-center p-6 relative">
        <!-- Language Selector -->
        <div class="absolute top-4 right-4">
            <div class="relative">
                <button class="lang-switcher-btn flex items-center gap-2 rounded-full bg-white p-2 shadow-md">
                    <i data-lucide="globe" class="w-5 h-5 text-gray-600"></i>
                    <span class="current-lang text-sm font-semibold text-gray-700">EN</span>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-gray-600"></i>
                </button>
                <div class="lang-menu hidden absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-xl z-20">
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="EN">English</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="HI">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="KN">‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="TE">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</a>
                </div>
            </div>
        </div>
        <div class="w-full flex flex-col items-center space-y-8">
            <!-- Logo and Title -->
            <div class="text-center space-y-4">
                <div class="inline-block p-4 bg-green-100 rounded-full">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="text-green-600">
                        <path d="M11 20A7 7 0 0 1 4 13H2a9 9 0 0 0 9 9v-2z"></path>
                        <path d="M13 4a7 7 0 0 1 7 7h2a9 9 0 0 0-9-9v2z"></path>
                        <path d="M4 11V9a7 7 0 0 1 7-7v2a5 5 0 0 0-5 5h-2z"></path>
                    </svg>
                </div>
                <h1 class="text-5xl font-bold text-gray-800" data-translate="appTitle">ResiTrace</h1>
                <span class="inline-block bg-green-100 text-green-700 font-semibold px-3 py-1 text-sm rounded-full">
                    <i data-lucide="sparkles" class="inline-block w-4 h-4 mr-1"></i><span
                        data-translate="appSubtitle">Next-Gen Agricultural Technology</span>
                </span>
            </div>

            <!-- Description -->
            <div class="max-w-2xl text-center space-y-4 text-gray-600">
                <p>
                    <i data-lucide="paw-print" class="inline-block w-5 h-5 mr-2 text-green-500"></i>
                    <span data-translate="appDescription1">Comprehensive livestock management system for farmers,
                        veterinarians, and cooperatives.</span>
                </p>
                <p>
                    <i data-lucide="bar-chart-2" class="inline-block w-5 h-5 mr-2 text-green-500"></i>
                    <span data-translate="appDescription2">Track animal health, manage prescriptions, and ensure
                        compliance with antimicrobial usage guidelines.</span>
                </p>
            </div>

            <!-- Role Selection -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl pt-6">
                <!-- Farmer Card -->
                <div
                    class="bg-white border border-gray-200 rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-shadow">
                    <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mb-4">
                        <i data-lucide="tractor" class="w-8 h-8 text-green-600"></i>
                    </div>
                    <span class="block text-xs font-bold text-gray-400" data-translate="farmerSubheading">SMART
                        FARMING</span>
                    <h3 class="text-xl font-bold text-gray-800 my-1" data-translate="farmerTitle">Farmer</h3>
                    <p class="text-gray-500 text-sm mb-6" data-translate="farmerDescription">Manage your livestock and
                        track animal health data</p>
                    <button id="farmer-role-btn"
                        class="w-full bg-white border border-gray-300 hover:bg-gray-100 text-gray-700 font-semibold py-2 px-4 rounded-lg">
                        <span data-translate="selectRole">Select Role</span>
                    </button>
                </div>
                <!-- Veterinarian Card -->
                <div
                    class="bg-white border border-gray-200 rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-shadow">
                    <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-4">
                        <i data-lucide="stethoscope" class="w-8 h-8 text-blue-600"></i>
                    </div>
                    <span class="block text-xs font-bold text-gray-400" data-translate="vetSubheading">EXPERT
                        CARE</span>
                    <h3 class="text-xl font-bold text-gray-800 my-1" data-translate="vetTitle">Veterinarian</h3>
                    <p class="text-gray-500 text-sm mb-6" data-translate="vetDescription">Provide professional animal
                        health services</p>
                    <button id="vet-role-btn"
                        class="w-full bg-white border border-gray-300 hover:bg-gray-100 text-gray-700 font-semibold py-2 px-4 rounded-lg">
                        <span data-translate="selectRole">Select Role</span>
                    </button>
                </div>
                <!-- Cooperative Card -->
                <div
                    class="bg-white border border-gray-200 rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-shadow">
                    <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-purple-100 mb-4">
                        <i data-lucide="users" class="w-8 h-8 text-purple-600"></i>
                    </div>
                    <span class="block text-xs font-bold text-gray-400" data-translate="coopSubheading">TRUSTED
                        NETWORK</span>
                    <h3 class="text-xl font-bold text-gray-800 my-1" data-translate="coopTitle">Cooperative and Research</h3>
                    <p class="text-gray-500 text-sm mb-6" data-translate="coopDescription">Manage regional data and
                        support local farmers</p>
                    <button id="cooperative-role-btn" onclick="window.location.href='cooperarte.html'"
                        class="w-full bg-white border border-gray-300 hover:bg-gray-100 text-gray-700 font-semibold py-2 px-4 rounded-lg">
                        <span data-translate="selectRole">Select Role</span>
                    </button>
                </div>
            </div>

            <!-- Feature Tags -->
            <div class="flex flex-wrap justify-center gap-4 pt-6">
                <span class="bg-blue-100 text-blue-700 font-semibold px-4 py-2 text-sm rounded-full"><i
                        data-lucide="plus-circle" class="inline-block w-4 h-4 mr-1"></i><span
                        data-translate="feature1">Professional Vet Services</span></span>
                <span class="bg-purple-100 text-purple-700 font-semibold px-4 py-2 text-sm rounded-full"><i
                        data-lucide="network" class="inline-block w-4 h-4 mr-1"></i><span
                        data-translate="feature2">Community Network</span></span>
                <span class="bg-orange-100 text-orange-700 font-semibold px-4 py-2 text-sm rounded-full"><i
                        data-lucide="activity" class="inline-block w-4 h-4 mr-1"></i><span
                        data-translate="feature3">Smart Analytics</span></span>
            </div>
        </div>
    </div>

    <!-- Farmer Login Page -->
    <div id="farmer-login-page"
        class="hidden max-w-md mx-auto min-h-screen flex flex-col justify-center items-center p-6 bg-white relative">
        <!-- Language Selector -->
        <div class="absolute top-4 right-4">
            <div class="relative">
                <button class="lang-switcher-btn flex items-center gap-2 rounded-full bg-white p-2 shadow-md">
                    <i data-lucide="globe" class="w-5 h-5 text-gray-600"></i>
                    <span class="current-lang text-sm font-semibold text-gray-700">EN</span>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-gray-600"></i>
                </button>
                <div class="lang-menu hidden absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-xl z-20">
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="EN">English</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="HI">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="KN">‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="TE">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</a>
                </div>
            </div>
        </div>
        <div class="w-full bg-green-50/50 p-8 rounded-2xl shadow-lg">
            <div class="text-center space-y-4">
                <div class="inline-block p-4 bg-white rounded-full shadow-md">
                    <i data-lucide="smartphone" class="w-10 h-10 text-green-600"></i>
                </div>
                <span class="inline-block bg-green-100 text-green-700 font-semibold px-3 py-1 text-sm rounded-full">
                    <i data-lucide="tractor" class="inline-block w-4 h-4 mr-1"></i><span
                        data-translate="farmerSubheading">Smart Farming</span>
                </span>
                <h1 class="text-3xl font-bold text-gray-800" data-translate="farmerPortalTitle">Farmer Portal</h1>
                <p class="text-gray-600">
                    <i data-lucide="log-in" class="inline-block w-4 h-4 mr-1 text-yellow-500"></i>
                    <span data-translate="farmerPortalDescription">Enter your mobile number to access your farm
                        dashboard</span>
                </p>
            </div>

            <form id="otp-form" class="mt-8 space-y-6">
                <div>
                    <label for="mobile-number" class="block text-sm font-medium text-gray-700"
                        data-translate="mobileNumberLabel">Mobile Number</label>
                    <div class="mt-1">
                        <input id="mobile-number" name="mobile-number" type="tel" autocomplete="tel" required
                            class="w-full bg-white border border-gray-300 rounded-lg px-3 py-2 text-gray-900 focus:ring-green-500 focus:border-green-500"
                            placeholder="Enter 10-digit number">
                    </div>
                </div>

                <button type="button" id="send-otp-btn"
                    class="hidden w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-blue-500">
                    <span data-translate="sendOtp">Send OTP</span>
                </button>

                <div id="otp-section" class="hidden space-y-4">
                    <div>
                        <label for="otp" class="block text-sm font-medium text-gray-700"
                            data-translate="enterOtpLabel">Enter OTP</label>
                        <div class="mt-1 relative">
                            <i data-lucide="shield-check"
                                class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></i>
                            <input id="otp" name="otp" type="text"
                                class="w-full bg-white border border-gray-300 rounded-lg pl-10 pr-3 py-2 text-gray-900 focus:ring-green-500 focus:border-green-500"
                                placeholder="123456">
                        </div>
                        <p class="mt-2 text-xs text-gray-500"><span data-translate="otpSentTo">OTP sent to</span> <span
                                id="otp-mobile-number">your number</span>. <span data-translate="otpDemo"></span></p>
                    </div>

                    <button type="submit"
                        class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-green-500">
                        <i data-lucide="check-circle" class="w-5 h-5 mr-2"></i>
                        <span data-translate="verifyAndEnter">Verify & Enter Farm</span>
                    </button>
                    <button type="button"
                        class="w-full bg-white border border-gray-300 hover:bg-gray-100 text-gray-700 font-semibold py-2 px-4 rounded-lg">
                        <span data-translate="resendOtp">Resend OTP</span>
                    </button>
                </div>
            </form>
            <button id="back-to-role-btn" class="w-full text-center text-sm text-gray-600 hover:text-gray-900 mt-6">
                <span data-translate="backToRoleSelection">Back to Role Selection</span>
            </button>
        </div>
    </div>

    <!-- Vet Login/Registration Page -->
    <div id="vet-login-page"
        class="hidden max-w-md mx-auto min-h-screen flex flex-col justify-center items-center p-6 bg-white relative">
        <!-- Language Selector -->
        <div class="absolute top-4 right-4">
            <div class="relative">
                <button class="lang-switcher-btn flex items-center gap-2 rounded-full bg-white p-2 shadow-md">
                    <i data-lucide="globe" class="w-5 h-5 text-gray-600"></i>
                    <span class="current-lang text-sm font-semibold text-gray-700">EN</span>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-gray-600"></i>
                </button>
                <div class="lang-menu hidden absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-xl z-20">
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="EN">English</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="HI">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="KN">‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="TE">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</a>
                </div>
            </div>
        </div>
        <div class="w-full bg-white p-8 rounded-2xl shadow-lg border border-gray-200">
            <div class="text-center space-y-4 mb-8">
                <div class="inline-block p-4 bg-blue-100 rounded-full">
                    <i data-lucide="stethoscope" class="w-10 h-10 text-blue-600"></i>
                </div>
                <span class="inline-block bg-blue-100 text-blue-700 font-semibold px-3 py-1 text-sm rounded-full">
                    Professional Care
                </span>
                <h1 class="text-3xl font-bold text-gray-800">Vet Portal</h1>
                <p class="text-gray-600">
                    <i data-lucide="users" class="inline-block w-4 h-4 mr-1 text-blue-500"></i>
                    Join our network of trusted veterinarians
                </p>
            </div>

            <form id="vet-application-form">
                <div class="space-y-6">
                    <div>
                        <h2 class="text-sm font-semibold text-gray-600 mb-2">Service Type</h2>
                        <div class="space-y-3" id="service-type-options">
                            <!-- Volunteer Vet Option -->
                            <label class="block border-2 border-green-500 rounded-lg p-4 cursor-pointer bg-green-50">
                                <div class="flex items-center">
                                    <input type="radio" name="service-type" value="volunteer" class="hidden" checked>
                                    <div
                                        class="w-10 h-10 flex-shrink-0 bg-green-500 rounded-full flex items-center justify-center mr-4">
                                        <i data-lucide="heart" class="w-6 h-6 text-white"></i>
                                    </div>
                                    <div class="flex-grow">
                                        <div class="flex justify-between items-center">
                                            <span class="font-bold text-gray-800">Volunteer Vet</span>
                                            <span
                                                class="text-xs bg-yellow-100 text-yellow-800 font-semibold px-2 py-0.5 rounded-full flex items-center gap-1"><i
                                                    data-lucide="star" class="w-3 h-3"></i>Community Hero</span>
                                        </div>
                                        <p class="text-sm text-gray-600">Serve the farming community with passion üí™</p>
                                    </div>
                                </div>
                            </label>
                            <!-- Professional Vet Option -->
                            <label class="block border-2 border-gray-300 rounded-lg p-4 cursor-pointer">
                                <div class="flex items-center">
                                    <input type="radio" name="service-type" value="professional" class="hidden">
                                    <div
                                        class="w-10 h-10 flex-shrink-0 bg-purple-500 rounded-full flex items-center justify-center mr-4">
                                        <i data-lucide="briefcase-medical" class="w-6 h-6 text-white"></i>
                                    </div>
                                    <div class="flex-grow">
                                        <div class="flex justify-between items-center">
                                            <span class="font-bold text-gray-800">Professional Vet</span>
                                            <span
                                                class="text-xs bg-gray-200 text-gray-800 font-semibold px-2 py-0.5 rounded-full flex items-center gap-1"><i
                                                    data-lucide="user-check" class="w-3 h-3"></i>Expert Care</span>
                                        </div>
                                        <p class="text-sm text-gray-600">Comprehensive veterinary services üßë‚Äç‚öïÔ∏è</p>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div>
                        <h2 class="text-sm font-semibold text-gray-600 mb-2">Certification Proof</h2>
                        <div id="file-drop-zone"
                            class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                            <i data-lucide="upload-cloud" class="w-10 h-10 text-gray-400 mx-auto"></i>
                            <p class="mt-2 font-semibold text-gray-700">Upload certification</p>
                            <p id="file-name-display" class="text-xs text-gray-500">PDF, JPG, PNG up to 10MB</p>
                        </div>
                        <button type="button" id="browse-files-btn"
                            class="mt-4 w-full bg-white border border-gray-300 hover:bg-gray-100 text-gray-700 font-semibold py-2 px-4 rounded-lg">
                            Browse Files
                        </button>
                    </div>

                    <button type="submit"
                        class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg">
                        Submit Application
                    </button>

                </div>
            </form>
            <button id="back-to-role-from-vet-btn"
                class="w-full text-center text-sm text-gray-600 hover:text-gray-900 mt-6">
                Back to Role Selection
            </button>
        </div>
    </div>

    <!-- Vet OTP Page -->
    <div id="vet-otp-page"
        class="hidden max-w-md mx-auto min-h-screen flex flex-col justify-center items-center p-6 bg-white relative">
        <!-- Language Selector -->
        <div class="absolute top-4 right-4">
            <div class="relative">
                <button class="lang-switcher-btn flex items-center gap-2 rounded-full bg-white p-2 shadow-md">
                    <i data-lucide="globe" class="w-5 h-5 text-gray-600"></i>
                    <span class="current-lang text-sm font-semibold text-gray-700">EN</span>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-gray-600"></i>
                </button>
                <div class="lang-menu hidden absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-xl z-20">
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="EN">English</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="HI">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="KN">‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="TE">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</a>
                </div>
            </div>
        </div>
        <div class="w-full bg-blue-50/50 p-8 rounded-2xl shadow-lg">
            <div class="text-center space-y-4">
                <div class="inline-block p-4 bg-white rounded-full shadow-md">
                    <i data-lucide="user-check" class="w-10 h-10 text-blue-600"></i>
                </div>
                <h1 class="text-3xl font-bold text-gray-800">Vet Verification</h1>
                <p class="text-gray-600">
                    <i data-lucide="key-round" class="inline-block w-4 h-4 mr-1 text-yellow-500"></i>
                    Complete your registration to join our network.
                </p>
            </div>

            <form id="vet-otp-form" class="mt-8 space-y-6">
                <div>
                    <label for="vet-name" class="block text-sm font-medium text-gray-700">Full Name</label>
                    <div class="mt-1">
                        <input id="vet-name" name="vet-name" type="text" autocomplete="name" required
                            class="w-full bg-white border border-gray-300 rounded-lg px-3 py-2 text-gray-900 focus:ring-blue-500 focus:border-blue-500"
                            placeholder="Dr. Jane Doe">
                    </div>
                </div>
                <div>
                    <label for="vet-mobile-number" class="block text-sm font-medium text-gray-700">Mobile Number</label>
                    <div class="mt-1">
                        <input id="vet-mobile-number" name="vet-mobile-number" type="tel" autocomplete="tel" required
                            class="w-full bg-white border border-gray-300 rounded-lg px-3 py-2 text-gray-900 focus:ring-blue-500 focus:border-blue-500"
                            placeholder="Enter 10-digit number">
                    </div>
                </div>

                <button type="button" id="vet-send-otp-btn"
                    class="hidden w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700">
                    Send OTP
                </button>

                <div id="vet-otp-section" class="hidden space-y-4">
                    <div>
                        <label for="vet-otp" class="block text-sm font-medium text-gray-700">Enter OTP</label>
                        <div class="mt-1 relative">
                            <i data-lucide="shield-check"
                                class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></i>
                            <input id="vet-otp" name="vet-otp" type="text"
                                class="w-full bg-white border border-gray-300 rounded-lg pl-10 pr-3 py-2 text-gray-900"
                                placeholder="123456">
                        </div>
                        <p class="mt-2 text-xs text-gray-500">OTP sent to <span id="vet-otp-mobile-number">your
                                number</span></p>
                    </div>

                    <button type="submit"
                        class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700">
                        <i data-lucide="check-circle" class="w-5 h-5 mr-2"></i>
                        Verify & Complete Registration
                    </button>
                    <button type="button"
                        class="w-full bg-white border border-gray-300 hover:bg-gray-100 text-gray-700 font-semibold py-2 px-4 rounded-lg">
                        Resend OTP
                    </button>
                </div>
            </form>
            <button id="back-to-vet-login-btn"
                class="w-full text-center text-sm text-gray-600 hover:text-gray-900 mt-6">
                Back to Application
            </button>
        </div>
    </div>

    <!-- Cooperative Login Page -->
    <!-- <div id="cooperative-login-page" -->
        <!-- class="hidden max-w-md mx-auto min-h-screen flex flex-col justify-center items-center p-6 bg-white relative"> -->
        <!-- Language Selector -->
        <!-- <div class="absolute top-4 right-4"> -->
            <!-- <div class="relative">
                <button class="lang-switcher-btn flex items-center gap-2 rounded-full bg-white p-2 shadow-md">
                    <i data-lucide="globe" class="w-5 h-5 text-gray-600"></i>
                    <span class="current-lang text-sm font-semibold text-gray-700">EN</span>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-gray-600"></i>
                </button>
                <div class="lang-menu hidden absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-xl z-20">
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="EN">English</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="HI">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="KN">‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)</a>
                    <a href="#" class="lang-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-lang="TE">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</a>
                </div>
            </div>
        </div>
        <div class="w-full bg-purple-50/50 p-8 rounded-2xl shadow-lg">
            <div class="text-center space-y-4">
                <div
                    class="inline-block p-4 bg-white rounded-full shadow-md bg-gradient-to-br from-purple-100 to-fuchsia-100">
                    <i data-lucide="users" class="w-10 h-10 text-purple-600"></i>
                </div>
                <span class="inline-block bg-purple-100 text-purple-700 font-semibold px-3 py-1 text-sm rounded-full">
                    <i data-lucide="shield-check" class="inline-block w-4 h-4 mr-1"></i>Trusted Network
                </span>
                <h1 class="text-3xl font-bold text-gray-800">Cooperative Portal</h1>
                <p class="text-gray-600">
                    <i data-lucide="globe" class="inline-block w-4 h-4 mr-1 text-purple-500"></i>
                    Connect with your regional farming network
                </p>
            </div> -->

            <!-- <form id="cooperative-form" class="mt-8 space-y-6">
                <div>
                    <label for="region-state" class="block text-sm font-medium text-gray-700">Region/State</label>
                    <div class="mt-1">
                        <select id="region-state" name="region-state"
                            class="w-full bg-white border border-gray-300 rounded-lg px-3 py-2 text-gray-900 focus:ring-purple-500 focus:border-purple-500">
                            <option>Select your state</option>
                            <option>Andhra Pradesh</option>
                            <option>Karnataka</option>
                            <option>Maharashtra</option>
                            <option>Tamil Nadu</option>
                            <option>Telangana</option>
                        </select>
                    </div>
                </div>
                <div>
                    <label for="association-name" class="block text-sm font-medium text-gray-700">Association
                        Name</label>
                    <div class="mt-1">
                        <input id="association-name" name="association-name" type="text" required
                            class="w-full bg-white border border-gray-300 rounded-lg px-3 py-2 text-gray-900 focus:ring-purple-500 focus:border-purple-500"
                            placeholder="Enter cooperative association name">
                    </div>
                </div>

                <div class="bg-gray-100/70 p-4 rounded-lg text-sm">
                    <h3 class="font-bold text-gray-800 mb-2">About Cooperative Access</h3>
                    <ul class="space-y-1 text-gray-600 list-disc list-inside">
                        <li>Manage regional AMU data and analytics</li>
                        <li>Support local farmers with guidance</li>
                        <li>Track regional compliance metrics</li>
                        <li>Coordinate with veterinarians</li>
                    </ul>
                </div> -->

                <!-- <button type="submit" 
                    class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-500 to-fuchsia-500 hover:from-purple-600 hover:to-fuchsia-600">
                    <i data-lucide="globe" class="w-5 h-5 mr-2"></i>
                    Access Regional Dashboard
                </button>
            </form>
            <button id="back-to-role-from-coop-btn"
                class="w-full text-center text-sm text-gray-600 hover:text-gray-900 mt-6">
                Back to Role Selection
            </button>
        </div>
    </div> -->


    <!-- Main App Container (Initially Hidden) -->
    <div id="app-container" class="hidden">

        <!-- Sidebar Menu -->
        <div id="sidebar-overlay" class="fixed inset-0 bg-black/60 z-40 hidden"></div>
        <div id="sidebar-menu"
            class="fixed inset-y-0 left-0 w-72 bg-white border-r border-gray-200 z-50 transform -translate-x-full transition-transform duration-300 ease-in-out">
            <div class="p-4 h-full flex flex-col">
                <div class="flex items-center justify-between mb-6">
                    <div class="flex items-center space-x-3">
                        <img src="https://placehold.co/48x48/22c55e/FFFFFF?text=RK" alt="User profile picture"
                            class="w-12 h-12 rounded-full">
                        <div>
                            <h2 class="font-bold text-lg text-gray-800" data-translate="userName">Rajiv Kumar</h2>
                            <p class="text-xs text-gray-500" data-translate="farmId">FARM-001</p>
                        </div>
                    </div>
                    <button id="close-sidebar-btn" class="text-gray-500 hover:text-gray-800">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <nav class="flex-grow">
                    <ul class="space-y-2">
                        <li>
                            <a href="#" id="nav-home"
                                class="nav-link flex items-center space-x-3 p-3 rounded-lg bg-green-100 text-green-700 font-semibold">
                                <i data-lucide="home" class="w-5 h-5"></i>
                                <span data-translate="navHome">Home</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" id="nav-animals"
                                class="nav-link flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                                <i data-lucide="paw-print" class="w-5 h-5"></i>
                                <span data-translate="navAnimals">My Animals</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" id="nav-education"
                                class="nav-link flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                                <i data-lucide="book-open" class="w-5 h-5"></i>
                                <span data-translate="navEducation">Education Center</span>
                            </a>
                        </li>
                        <li>
                            <a href="#"
                                class="nav-link flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                                <i data-lucide="file-text" class="w-5 h-5"></i>
                                <span data-translate="navReports">Reports</span>
                            </a>
                        </li>
                        <li>
                            <a href="#"
                                class="nav-link flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                                <i data-lucide="settings" class="w-5 h-5"></i>
                                <span data-translate="navSettings">Settings</span>
                            </a>
                        </li>
                    </ul>
                </nav>
                <div>
                    <button id="logout-btn"
                        class="w-full flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:bg-red-50 hover:text-red-600 transition-colors">
                        <i data-lucide="log-out" class="w-5 h-5"></i>
                        <span data-translate="navLogout">Logout</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main container to simulate mobile view -->
        <div class="max-w-md mx-auto bg-gray-50 min-h-screen">
            <div class="p-4 space-y-6">

                <!-- Welcome Header Card -->
                <header class="bg-green-600 rounded-xl p-4 flex items-center justify-between shadow-lg">
                    <button id="hamburger-btn" class="text-white p-2 -ml-2">
                        <i data-lucide="menu" class="w-6 h-6"></i>
                    </button>
                    <div class="text-center">
                        <h1 id="header-title" class="font-bold text-xl text-white">Home</h1>
                    </div>
                    <div class="flex items-center gap-2">
                        <!-- Language Selector for App -->
                        <div class="relative">
                            <button
                                class="lang-switcher-btn flex items-center gap-1 rounded-full bg-white/20 p-2 text-white">
                                <i data-lucide="globe" class="w-5 h-5"></i>
                                <span class="current-lang text-sm font-semibold">EN</span>
                            </button>
                            <div
                                class="lang-menu hidden absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-xl z-20 text-gray-800">
                                <a href="#" class="lang-option block px-4 py-2 text-sm hover:bg-gray-100"
                                    data-lang="EN">English</a>
                                <a href="#" class="lang-option block px-4 py-2 text-sm hover:bg-gray-100"
                                    data-lang="HI">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</a>
                                <a href="#" class="lang-option block px-4 py-2 text-sm hover:bg-gray-100"
                                    data-lang="KN">‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)</a>
                                <a href="#" class="lang-option block px-4 py-2 text-sm hover:bg-gray-100"
                                    data-lang="TE">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</a>
                            </div>
                        </div>
                        <button id="scan-btn"
                            class="bg-white/20 hover:bg-white/30 text-white font-semibold py-2 px-3 rounded-lg flex items-center space-x-1.5 transition-colors">
                            <i data-lucide="scan-line" class="w-5 h-5"></i>
                            <span data-translate="scanButton">Scan</span>
                        </button>
                    </div>
                </header>

                <!-- Page Container -->
                <div id="page-container">
                    <!-- HOME PAGE -->
                    <div id="home-page" class="page space-y-4">
                        <!-- Stats Cards Section -->
                        <section class="grid grid-cols-2 gap-4">
                            <div class="bg-white p-4 rounded-xl flex justify-between items-start shadow-sm border border-gray-200">
                                <div>
                                    <p class="text-gray-500 text-sm font-medium" data-translate="statTotalAnimals">Total Animals</p>
                                    <p id="total-animals-stat" class="text-3xl font-bold text-gray-800">0</p>
                                    <p class="text-gray-400 text-xs" data-translate="statHerd">Dairy cattle in herd</p>
                                </div>
                                <i data-lucide="users" class="w-5 h-5 text-gray-400"></i>
                            </div>
                            <div class="bg-white p-4 rounded-xl flex justify-between items-start shadow-sm border border-gray-200">
                                <div>
                                    <p class="text-gray-500 text-sm font-medium" data-translate="statCompliant">Compliant</p>
                                    <p id="compliant-stat" class="text-3xl font-bold text-gray-800">0</p>
                                    <p class="text-gray-400 text-xs" data-translate="statSafe">Safe for sale</p>
                                </div>
                                <i data-lucide="check-circle" class="w-5 h-5 text-green-500"></i>
                            </div>
                            <div class="bg-white p-4 rounded-xl flex justify-between items-start shadow-sm border border-gray-200">
                                <div>
                                    <p class="text-gray-500 text-sm font-medium" data-translate="statWithdrawal">In Withdrawal</p>
                                    <p id="withdrawal-stat" class="text-3xl font-bold text-gray-800">0</p>
                                    <p class="text-gray-400 text-xs" data-translate="statAwaiting">Awaiting clearance
                                    </p>
                                </div>
                                <i data-lucide="archive" class="w-5 h-5 text-yellow-500"></i>
                            </div>
                            <div class="bg-white p-4 rounded-xl flex justify-between items-start shadow-sm border border-gray-200">
                                <div>
                                    <p class="text-gray-500 text-sm font-medium" data-translate="statCompliance">Withdrawal Rate</p>
                                    <p id="withdrawal-rate-stat" class="text-3xl font-bold text-gray-800">0%</p>
                                    <p class="text-gray-400 text-xs" data-translate="statRating">of total herd</p>
                                </div>
                                <i data-lucide="bar-chart-2" class="w-5 h-5 text-gray-400"></i>
                            </div>
                        </section>

                        <!-- Booked Appointment Card (Initially Hidden) -->
                        <section id="booked-appointment-card"
                            class="hidden bg-blue-50 border border-blue-200 p-4 rounded-xl space-y-2">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-bold text-blue-800">Upcoming Appointment</h3>
                                <i data-lucide="calendar-check" class="w-6 h-6 text-blue-600"></i>
                            </div>
                            <p class="text-sm text-gray-600">
                                You have an appointment with <strong id="booked-vet-name"
                                    class="font-bold text-gray-800"></strong> on <strong id="booked-slot-time"
                                    class="font-bold text-gray-800"></strong>.
                            </p>
                        </section>

                        <!-- Animal Status Section for Home Page -->
                        <section class="space-y-4">
                            <div class="flex items-center justify-between px-1">
                                <h2 class="text-xl font-bold text-gray-700" data-translate="animalStatus">Animal Status
                                </h2>
                            </div>
                            <div class="border-b border-gray-200">
                                <nav class="flex -mb-px">
                                    <button onclick="showHomeCategory(0)" id="home-tab-0"
                                        class="w-1/2 py-3 px-1 text-center text-sm font-medium border-b-2 text-green-600 border-green-500">
                                        <span data-translate="tabWithdrawal">In Withdrawal</span>
                                    </button>
                                    <button onclick="showHomeCategory(1)" id="home-tab-1"
                                        class="w-1/2 py-3 px-1 text-center text-sm font-medium border-b-2 text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300 transition-colors">
                                        <span data-translate="tabSafe">Safe for Sale</span>
                                    </button>
                                </nav>
                            </div>
                            <div id="home-slider-container" class="relative w-full overflow-hidden"
                                style="transition: height 0.3s ease-in-out;">
                                <div id="home-slider" class="flex transition-transform duration-300 ease-in-out">
                                    <div class="w-full flex-shrink-0 space-y-4">
                                        <div class="bg-white p-4 rounded-xl space-y-4 shadow-sm border border-gray-200">
                                            <!-- Daisy -->
                                            <div class="flex justify-between items-center">
                                                <div>
                                                    <h3 class="text-lg font-bold text-gray-800">Daisy</h3>
                                                    <p class="text-sm text-gray-500">Holstein Cow ‚Ä¢ ID: COW-003</p>
                                                </div>
                                                <div
                                                    class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-1 rounded-full flex items-center space-x-1.5">
                                                    <i data-lucide="alert-triangle" class="w-3 h-3"></i><span>Withdrawal
                                                        Period</span></div>
                                            </div>
                                            <div class="space-y-3 text-sm">
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Drug:</span><span>Amoxicillin</span></div>
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Withdrawal Date:</span><span
                                                        class="flex items-center gap-2"><i data-lucide="calendar"
                                                            class="w-4 h-4 text-gray-400"></i>2024-09-18</span></div>
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Days Remaining:</span><span
                                                        class="flex items-center gap-2 font-bold text-red-600"><i
                                                            data-lucide="clock" class="w-4 h-4"></i>2 days</span></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="w-full flex-shrink-0 space-y-4">
                                        <div class="bg-white p-8 rounded-xl space-y-4 shadow-sm border border-gray-200">
                                            <!-- Moobert -->
                                            <div class="flex justify-between items-center">
                                                <div>
                                                    <h3 class="text-lg font-bold text-gray-800">Moobert</h3>
                                                    <p class="text-sm text-gray-500">Jersey Cow ‚Ä¢ ID: COW-007</p>
                                                </div>
                                                <div
                                                    class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-1 rounded-full flex items-center space-x-1.5">
                                                    <i data-lucide="check-circle" class="w-3 h-3"></i><span>Safe for
                                                        Sale</span></div>
                                            </div>
                                            <div class="space-y-3 text-sm">
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Drug:</span><span>Ceftiofur</span></div>
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Withdrawal Date:</span><span
                                                        class="flex items-center gap-2"><i data-lucide="calendar"
                                                            class="w-4 h-4 text-gray-400"></i>2024-09-22</span></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- Quick Actions Section -->
                        <section class="bg-white p-4 rounded-xl space-y-3 shadow-sm border border-gray-200">
                            <h3 class="text-lg font-bold text-gray-800" data-translate="quickActions">Quick Actions</h3>
                            <div class="space-y-2">
                                <button id="add-treatment-btn"
                                    class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg flex items-center space-x-3 transition-colors">
                                    <i data-lucide="plus-circle" class="w-5 h-5"></i>
                                    <span data-translate="actionAdd">Add Treatment Record</span>
                                </button>
                                <button id="find-vet-btn"
                                    class="w-full bg-gray-100 hover:bg-gray-200 border border-gray-300 text-gray-700 font-semibold py-3 px-4 rounded-lg flex items-center space-x-3 transition-colors">
                                    <i data-lucide="user-search" class="w-5 h-5"></i>
                                    <span data-translate="actionFindVet">Find Veterinarian</span>
                                </button>
                                <button id="education-center-btn"
                                    class="w-full bg-gray-100 hover:bg-gray-200 border border-gray-300 text-gray-700 font-semibold py-3 px-4 rounded-lg flex items-center space-x-3 transition-colors">
                                    <i data-lucide="book-open" class="w-5 h-5"></i>
                                    <span data-translate="actionEducation">Education Center</span>
                                </button>
                            </div>
                        </section>

                        <!-- Recent Activity Section -->
                        <section class="bg-white p-4 rounded-xl space-y-4 shadow-sm border border-gray-200">
                            <h3 class="text-lg font-bold text-gray-800" data-translate="recentActivity">Recent Activity
                            </h3>
                            <ul class="space-y-4">
                                <li class="flex items-start space-x-3">
                                    <div class="w-2 h-2 rounded-full bg-green-500 mt-1.5 flex-shrink-0"></div>
                                    <div>
                                        <p class="text-sm text-gray-800">New treatment record added for <span
                                                class="font-semibold">COW-002</span></p>
                                        <p class="text-xs text-gray-500">2 hours ago</p>
                                    </div>
                                </li>
                                <li class="flex items-start space-x-3">
                                    <div class="w-2 h-2 rounded-full bg-green-500 mt-1.5 flex-shrink-0"></div>
                                    <div>
                                        <p class="text-sm text-gray-800">Withdrawal period ended for <span
                                                class="font-semibold">COW-005</span></p>
                                        <p class="text-xs text-gray-500">1 day ago</p>
                                    </div>
                                </li>
                                <li class="flex items-start space-x-3">
                                    <div class="w-2 h-2 rounded-full bg-green-500 mt-1.5 flex-shrink-0"></div>
                                    <div>
                                        <p class="text-sm text-gray-800">Dairy herd health check scheduled for tomorrow</p>
                                        <p class="text-xs text-gray-500">2 days ago</p>
                                    </div>
                                </li>
                            </ul>
                        </section>
                    </div>

                    <!-- MY ANIMALS PAGE -->
                    <div id="animals-page" class="page hidden space-y-4">
                        <section class="space-y-4">
                            <div class="flex items-center justify-between px-1">
                                <h2 class="text-xl font-bold text-gray-700" data-translate="animalStatus">All Animal
                                    Status</h2>
                            </div>

                            <!-- Tab Buttons -->
                            <div class="border-b border-gray-200">
                                <nav class="flex -mb-px">
                                    <button onclick="showAnimalCategory(0)" id="animal-tab-0"
                                        class="w-1/2 py-3 px-1 text-center text-sm font-medium border-b-2 text-green-600 border-green-500">
                                        <span data-translate="tabWithdrawal">In Withdrawal</span>
                                    </button>
                                    <button onclick="showAnimalCategory(1)" id="animal-tab-1"
                                        class="w-1/2 py-3 px-1 text-center text-sm font-medium border-b-2 text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300 transition-colors">
                                        <span data-translate="tabSafe">Safe for Sale</span>
                                    </button>
                                </nav>
                            </div>

                            <!-- Slider Container -->
                            <div id="animal-slider-container" class="relative w-full overflow-hidden"
                                style="transition: height 0.3s ease-in-out;">
                                <div id="animal-slider" class="flex transition-transform duration-300 ease-in-out">

                                    <!-- Category 1: In Withdrawal -->
                                    <div class="w-full flex-shrink-0 space-y-4">
                                        <div class="bg-white p-4 rounded-xl space-y-4 shadow-sm border border-gray-200">
                                            <div class="flex justify-between items-center">
                                                <div>
                                                    <h3 class="text-lg font-bold text-gray-800">Daisy</h3>
                                                    <p class="text-sm text-gray-500">Holstein Cow ‚Ä¢ ID: COW-003</p>
                                                </div>
                                                <div
                                                    class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-1 rounded-full flex items-center space-x-1.5">
                                                    <i data-lucide="alert-triangle" class="w-3 h-3"></i><span>Withdrawal
                                                        Period</span></div>
                                            </div>
                                            <div class="space-y-3 text-sm">
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Drug:</span><span>Amoxicillin</span></div>
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Withdrawal Date:</span><span
                                                        class="flex items-center gap-2"><i data-lucide="calendar"
                                                            class="w-4 h-4 text-gray-400"></i>2024-09-18</span></div>
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Days Remaining:</span><span
                                                        class="flex items-center gap-2 font-bold text-red-600"><i
                                                            data-lucide="clock" class="w-4 h-4"></i>2 days</span></div>
                                            </div>
                                        </div>
                                        <!-- <div class="bg-white p-4 rounded-xl space-y-4 shadow-sm border border-gray-200">
                                            <div class="flex justify-between items-center">
                                                <div>
                                                    <h3 class="text-lg font-bold text-gray-800">Buttercup</h3>
                                                    <p class="text-sm text-gray-500">Angus ‚Ä¢ ID: COW-011</p>
                                                </div>
                                                <div
                                                    class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-1 rounded-full flex items-center space-x-1.5">
                                                    <i data-lucide="alert-triangle" class="w-3 h-3"></i><span>Withdrawal
                                                        Period</span></div>
                                            </div>
                                            <div class="space-y-3 text-sm">
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Drug:</span><span>Penicillin</span></div>
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Withdrawal Date:</span><span
                                                        class="flex items-center gap-2"><i data-lucide="calendar"
                                                            class="w-4 h-4 text-gray-400"></i>2024-09-20</span></div>
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Days Remaining:</span><span
                                                        class="flex items-center gap-2 font-bold text-red-600"><i
                                                            data-lucide="clock" class="w-4 h-4"></i>5 days</span></div>
                                            </div>
                                        </div> -->
                                        <!-- <div class="bg-white p-4 rounded-xl space-y-4 shadow-sm border border-gray-200">
                                            <div class="flex justify-between items-center">
                                                <div>
                                                    <h3 class="text-lg font-bold text-gray-800">Luna</h3>
                                                    <p class="text-sm text-gray-500">Ayrshire ‚Ä¢ ID: COW-021</p>
                                                </div>
                                                <div
                                                    class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-1 rounded-full flex items-center space-x-1.5">
                                                    <i data-lucide="alert-triangle" class="w-3 h-3"></i><span>Withdrawal
                                                        Period</span></div>
                                            </div>
                                            <div class="space-y-3 text-sm">
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Drug:</span><span>Ceftiofur</span></div>
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Withdrawal Date:</span><span
                                                        class="flex items-center gap-2"><i data-lucide="calendar"
                                                            class="w-4 h-4 text-gray-400"></i>2024-10-02</span></div>
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Days Remaining:</span><span
                                                        class="flex items-center gap-2 font-bold text-red-600"><i
                                                            data-lucide="clock" class="w-4 h-4"></i>14 days</span></div>
                                            </div>
                                        </div> -->
                                    </div>

                                    <!-- Category 2: Safe for Sale -->
                                    <div class="w-full flex-shrink-0 space-y-4">
                                        <div class="bg-white p-8 rounded-xl space-y-4 shadow-sm border border-gray-200">
                                            <div class="flex justify-between items-center">
                                                <div>
                                                    <h3 class="text-lg font-bold text-gray-800">Moobert</h3>
                                                    <p class="text-sm text-gray-500">Jersey Cow ‚Ä¢ ID: COW-007</p>
                                                </div>
                                                <div
                                                    class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-1 rounded-full flex items-center space-x-1.5">
                                                    <i data-lucide="check-circle" class="w-3 h-3"></i><span>Safe for
                                                        Sale</span></div>
                                            </div>
                                            <!-- <div class="space-y-3 text-sm">
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Drug:</span><span>Ceftiofur</span></div>
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Withdrawal Date:</span><span
                                                        class="flex items-center gap-2"><i data-lucide="calendar"
                                                            class="w-4 h-4 text-gray-400"></i>2024-09-22</span></div>
                                            </div> -->
                                        </div>
                                        <!-- <div class="bg-white p-8 rounded-xl space-y-4 shadow-sm border border-gray-200">
                                            <div class="flex justify-between items-center">
                                                <div>
                                                    <h3 class="text-lg font-bold text-gray-800">Ferdinand</h3>
                                                    <p class="text-sm text-gray-500">Hereford ‚Ä¢ ID: COW-002</p>
                                                </div>
                                                <div
                                                    class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-1 rounded-full flex items-center space-x-1.5">
                                                    <i data-lucide="check-circle" class="w-3 h-3"></i><span>Safe for
                                                        Sale</span></div>
                                            </div>
                                            <div class="space-y-3 text-sm">
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Drug:</span><span>N/A</span></div>
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Last Check:</span><span
                                                        class="flex items-center gap-2"><i data-lucide="calendar"
                                                            class="w-4 h-4 text-gray-400"></i>2024-09-24</span></div>
                                            </div>
                                        </div> -->
                                        <!-- <div class="bg-white p-8 rounded-xl space-y-4 shadow-sm border border-gray-200">
                                            <div class="flex justify-between items-center">
                                                <div>
                                                    <h3 class="text-lg font-bold text-gray-800">Angus</h3>
                                                    <p class="text-sm text-gray-500">Black Angus ‚Ä¢ ID: COW-019</p>
                                                </div>
                                                <div
                                                    class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-1 rounded-full flex items-center space-x-1.5">
                                                    <i data-lucide="check-circle" class="w-3 h-3"></i><span>Safe for
                                                        Sale</span></div>
                                            </div>
                                            <div class="space-y-3 text-sm">
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Drug:</span><span>N/A</span></div>
                                                <div class="flex justify-between text-gray-800"><span
                                                        class="text-gray-500">Last Check:</span><span
                                                        class="flex items-center gap-2"><i data-lucide="calendar"
                                                            class="w-4 h-4 text-gray-400"></i>2024-09-26</span></div>
                                            </div>
                                        </div> -->
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>

                    <!-- EDUCATION CENTER PAGE -->
                    <div id="education-page" class="page hidden space-y-6">
                        <!-- Header -->
                        <section>
                            <h2 class="text-3xl font-bold text-gray-800" data-translate="knowledgeCenterTitle">Knowledge
                                Center</h2>
                            <p class="text-gray-500 mt-2" data-translate="knowledgeCenterDescription">Learn about
                                antimicrobial use, compliance requirements, and best practices for livestock health
                                management in multiple languages.</p>
                        </section>

                        <!-- Filters -->
                        <section class="flex flex-wrap gap-2">
                            <button class="bg-gray-200 text-gray-800 text-sm font-semibold px-4 py-1.5 rounded-full">AMR
                                Basics</button>
                            <button
                                class="bg-gray-200 text-gray-800 text-sm font-semibold px-4 py-1.5 rounded-full">Compliance</button>
                            <button
                                class="bg-gray-200 text-gray-800 text-sm font-semibold px-4 py-1.5 rounded-full">Regulations</button>
                            <button class="bg-gray-200 text-gray-800 text-sm font-semibold px-4 py-1.5 rounded-full">Animal
                                Health</button>
                            <button
                                class="bg-gray-200 text-gray-800 text-sm font-semibold px-4 py-1.5 rounded-full">Alternatives</button>
                        </section>

                        <!-- Resource Cards -->
                        <section class="space-y-4">
                            <!-- Card 1 -->
                            <div class="bg-white p-4 rounded-xl space-y-4 shadow-sm border border-gray-200">
                                <div class="flex items-center gap-2">
                                    <i data-lucide="file-text" class="w-5 h-5 text-gray-400"></i>
                                    <span class="text-xs font-bold text-gray-400 uppercase">AMR Basics</span>
                                </div>
                                <h3 class="text-lg font-bold text-gray-800">Understanding Antimicrobial Resistance</h3>
                                <p class="text-sm text-gray-500">Learn about the causes and prevention of antimicrobial
                                    resistance in livestock</p>
                                <div
                                    class="flex justify-between items-center text-xs text-gray-500 border-t border-gray-200 pt-3">
                                    <div class="flex items-center gap-4">
                                        <span class="flex items-center gap-1.5"><i data-lucide="globe"
                                                class="w-4 h-4"></i> English</span>
                                        <span class="flex items-center gap-1.5"><i data-lucide="clock"
                                                class="w-4 h-4"></i> 5 min read</span>
                                    </div>
                                    <button
                                        class="flex items-center gap-2 font-semibold text-gray-800 hover:text-green-600">
                                        <i data-lucide="book-open-check" class="w-4 h-4"></i> View Resource
                                    </button>
                                </div>
                            </div>
                            <!-- Card 2 -->
                            <div class="bg-white p-4 rounded-xl space-y-4 shadow-sm border border-gray-200">
                                <div class="flex items-center gap-2">
                                    <i data-lucide="shield-check" class="w-5 h-5 text-green-500"></i>
                                    <span class="text-xs font-bold text-green-600 uppercase">Compliance</span>
                                </div>
                                <h3 class="text-lg font-bold text-gray-800">Proper Withdrawal Period Management</h3>
                                <p class="text-sm text-gray-500">Step-by-step guide to managing withdrawal periods for
                                    different antimicrobials</p>
                                <div
                                    class="flex justify-between items-center text-xs text-gray-500 border-t border-gray-200 pt-3">
                                    <div class="flex items-center gap-4">
                                        <span class="flex items-center gap-1.5"><i data-lucide="globe"
                                                class="w-4 h-4"></i> Hindi</span>
                                        <span class="flex items-center gap-1.5"><i data-lucide="clock"
                                                class="w-4 h-4"></i> 10 min read</span>
                                    </div>
                                    <button
                                        class="flex items-center gap-2 font-semibold text-gray-800 hover:text-green-600">
                                        <i data-lucide="book-open-check" class="w-4 h-4"></i> View Resource
                                    </button>
                                </div>
                            </div>
                        </section>
                    </div>

                </div>
            </div>
        </div>

        <!-- MODALS (Shared across pages) -->

        <!-- Add Treatment Record Modal -->
        <div id="treatment-modal"
            class="fixed inset-0 bg-black/70 flex items-start justify-center p-4 z-50 hidden overflow-y-auto">
            <div class="bg-white rounded-xl w-full max-w-md my-8 text-gray-800">
                <div
                    class="p-4 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10">
                    <h2 class="text-xl font-bold">Add Animal Treatment Record</h2>
                    <button id="close-modal-btn" class="text-gray-500 hover:text-gray-800">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <form id="treatment-form" class="p-4 space-y-6">
                    <p class="text-sm text-gray-500 -mt-2">Record antimicrobial treatment details for compliance
                        tracking.</p>
                    <div class="space-y-4">
                        <div><label for="animal-name" class="block text-sm font-medium text-gray-700 mb-1">Animal
                                Name</label><input type="text" id="animal-name" placeholder="e.g., Bessie"
                                class="w-full bg-gray-100 border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500">
                        </div>
                        <div><label for="animal-id" class="block text-sm font-medium text-gray-700 mb-1">Animal
                                ID</label><input type="text" id="animal-id" placeholder="e.g., COW-001"
                                class="w-full bg-gray-100 border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500">
                        </div>
                        <div><label for="species"
                                class="block text-sm font-medium text-gray-700 mb-1">Species</label><select id="species"
                                class="w-full bg-gray-100 border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500">
                                <option>Select species</option>
                                <option>Cow</option>
                                <option>Goat</option>
                                <option>Sheep</option>
                            </select></div>
                        <div><label for="age" class="block text-sm font-medium text-gray-700 mb-1">Age
                                (months)</label><input type="number" id="age" value="24"
                                class="w-full bg-gray-100 border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500">
                        </div>
                    </div>
                    <div class="space-y-4 border-t border-gray-200 pt-6">
                        <div class="flex justify-between items-center">
                            <h3 class="text-lg font-bold">Treatment Details</h3><button type="button"
                                class="text-sm bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-3 rounded-lg flex items-center space-x-2 transition-colors"><i
                                    data-lucide="upload" class="w-4 h-4"></i><span>Upload Prescription</span></button>
                        </div>
                        <div><label for="drug-name" class="block text-sm font-medium text-gray-700 mb-1">Drug
                                Name</label><select id="drug-name"
                                class="w-full bg-gray-100 border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500">
                                <option>Select antimicrobial</option>
                                <option>Amoxicillin</option>
                                <option>Penicillin</option>
                                <option>Oxytetracycline</option>
                            </select></div>
                        <div><label for="treatment-date" class="block text-sm font-medium text-gray-700 mb-1">Treatment
                                Date</label><input type="date" id="treatment-date"
                                class="w-full bg-gray-100 border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500">
                        </div>
                        <div><label for="dose" class="block text-sm font-medium text-gray-700 mb-1">Dose</label><input
                                type="text" id="dose" placeholder="e.g., 10mg/kg"
                                class="w-full bg-gray-100 border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500">
                        </div>
                        <div><label for="frequency"
                                class="block text-sm font-medium text-gray-700 mb-1">Frequency</label><input type="text"
                                id="frequency" placeholder="e.g., Once daily"
                                class="w-full bg-gray-100 border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500">
                        </div>
                        <div><label for="route"
                                class="block text-sm font-medium text-gray-700 mb-1">Route</label><select id="route"
                                class="w-full bg-gray-100 border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500">
                                <option>Select route</option>
                                <option>Oral</option>
                                <option>Intramuscular</option>
                                <option>Intravenous</option>
                            </select></div>
                        <div><label for="reason" class="block text-sm font-medium text-gray-700 mb-1">Reason for
                                Treatment</label><textarea id="reason" rows="3"
                                placeholder="Describe the condition being treated"
                                class="w-full bg-gray-100 border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500"></textarea>
                        </div>
                    </div>
                    <div class="flex justify-end gap-3 pt-4"><button type="button" id="cancel-btn"
                            class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg">Cancel</button><button
                            type="submit"
                            class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg">Save
                            Record</button></div>
                </form>
            </div>
        </div>

        <!-- Find Vet Modal -->
        <div id="vet-modal"
            class="fixed inset-0 bg-black/70 flex items-start justify-center p-4 z-50 hidden overflow-y-auto">
            <div class="bg-white rounded-xl w-full max-w-md my-8 text-gray-800">
                <div
                    class="p-4 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10">
                    <h2 class="text-xl font-bold">Find Veterinarian</h2><button id="close-vet-modal-btn"
                        class="text-gray-500 hover:text-gray-800"><i data-lucide="x" class="w-6 h-6"></i></button>
                </div>
                <div class="p-4 space-y-6">
                    <div class="bg-gray-100 p-4 rounded-xl space-y-4">
                        <div class="flex items-center gap-2"><i data-lucide="search" class="w-6 h-6 text-gray-500"></i>
                            <h3 class="text-xl font-bold">Find Veterinarians</h3>
                        </div>
                        <p class="text-sm text-gray-600">Search for qualified dairy veterinarians in your area.</p>
                        <div><label for="location"
                                class="block text-sm font-medium text-gray-700 mb-1">Location</label><input type="text"
                                id="location" placeholder="Enter your location or area"
                                class="w-full bg-white border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500">
                        </div>
                    </div>
                    <div id="vet-list" class="space-y-4">
                        <div class="bg-white border border-gray-200 p-4 rounded-xl space-y-4">
                            <div class="flex items-start gap-4"><img src="https://placehold.co/64x64/4ade80/FFFFFF?text=SJ"
                                    alt="Dr. Sarah Johnson" class="w-16 h-16 rounded-full">
                                <div class="flex-1">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <h4 class="font-bold text-lg text-gray-800">Dr. Sarah Johnson</h4>
                                            <p class="text-sm text-gray-500">DVM, Large Animal Specialist</p>
                                        </div>
                                        <div class="flex items-center gap-2"><span
                                                class="bg-green-100 text-green-800 text-xs font-bold px-2 py-0.5 rounded-md">Professional</span><span
                                                class="bg-gray-200 text-gray-800 text-xs font-bold px-2 py-0.5 rounded-md">Paid</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-2 text-sm text-gray-500 mt-1"><i
                                            data-lucide="map-pin" class="w-4 h-4"></i><span>Green Valley ‚Ä¢ 2.5
                                            km</span><span class="text-yellow-500 flex items-center gap-1"><i
                                                data-lucide="star" class="w-4 h-4 fill-current"></i><b>4.8</b></span>
                                    </div>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <h5 class="text-sm font-semibold text-gray-700">Specialties</h5>
                                <div class="flex flex-wrap gap-2"><span
                                        class="bg-gray-100 text-gray-700 text-xs font-medium px-2 py-1 rounded-md">Dairy
                                        Cattle</span><span
                                        class="bg-gray-100 text-gray-700 text-xs font-medium px-2 py-1 rounded-md">Mastitis
                                        Management</span><span
                                        class="bg-gray-100 text-gray-700 text-xs font-medium px-2 py-1 rounded-md">Reproductive
                                        Medicine</span></div>
                            </div>
                            <div class="space-y-2">
                                <h5 class="text-sm font-semibold text-gray-700">Available Slots</h5>
                                <div class="flex flex-wrap gap-2"><button data-vet-name="Dr. Sarah Johnson"
                                        data-slot="Today 2:00 PM"
                                        class="vet-slot-btn bg-gray-100 hover:bg-green-600 text-gray-700 hover:text-white text-sm font-semibold px-3 py-1.5 rounded-lg flex items-center gap-2"><i
                                            data-lucide="calendar" class="w-4 h-4"></i>Today 2:00 PM</button><button
                                        data-vet-name="Dr. Sarah Johnson" data-slot="Tomorrow 9:00 AM"
                                        class="vet-slot-btn bg-gray-100 hover:bg-green-600 text-gray-700 hover:text-white text-sm font-semibold px-3 py-1.5 rounded-lg flex items-center gap-2"><i
                                            data-lucide="calendar" class="w-4 h-4"></i>Tomorrow 9:00 AM</button><button
                                        data-vet-name="Dr. Sarah Johnson" data-slot="Tomorrow 3:00 PM"
                                        class="vet-slot-btn bg-gray-100 hover:bg-green-600 text-gray-700 hover:text-white text-sm font-semibold px-3 py-1.5 rounded-lg flex items-center gap-2"><i
                                            data-lucide="calendar" class="w-4 h-4"></i>Tomorrow 3:00 PM</button></div>
                            </div>
                        </div>
                        <div class="bg-white border border-gray-200 p-4 rounded-xl space-y-4">
                            <div class="flex items-start gap-4"><img src="https://placehold.co/64x64/38bdf8/FFFFFF?text=MC"
                                    alt="Dr. Michael Chen" class="w-16 h-16 rounded-full">
                                <div class="flex-1">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <h4 class="font-bold text-lg text-gray-800">Dr. Michael Chen</h4>
                                            <p class="text-sm text-gray-500">DVM, Rural Practice</p>
                                        </div><span
                                            class="bg-blue-100 text-blue-800 text-xs font-bold px-2 py-0.5 rounded-md">Volunteer</span>
                                    </div>
                                    <div class="flex items-center gap-2 text-sm text-gray-500 mt-1"><i
                                            data-lucide="map-pin" class="w-4 h-4"></i><span>Pine Ridge ‚Ä¢ 5.1
                                            km</span><span class="text-yellow-500 flex items-center gap-1"><i
                                                data-lucide="star" class="w-4 h-4 fill-current"></i><b>4.6</b></span>
                                    </div>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <h5 class="text-sm font-semibold text-gray-700">Specialties</h5>
                                <div class="flex flex-wrap gap-2"><span
                                        class="bg-gray-100 text-gray-700 text-xs font-medium px-2 py-1 rounded-md">General
                                        Check-ups</span><span
                                        class="bg-gray-100 text-gray-700 text-xs font-medium px-2 py-1 rounded-md">Vaccinations</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scanner Modals -->
        <div id="scanner-loader-modal"
            class="fixed inset-0 bg-black/70 flex-col items-center justify-center p-4 z-50 hidden">
            <div class="loader"></div>
            <p class="text-white mt-4 text-lg font-semibold">Scanning Prescription...</p>
        </div>
        <div id="scan-choice-modal" class="fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 hidden">
            <div class="bg-white rounded-xl w-full max-w-sm p-6 space-y-4">
                <h3 class="text-xl font-bold text-gray-800">Scan Prescription</h3>
                <p class="text-center text-gray-500 text-sm">Choose an option to add the prescription image.</p>
                <div class="space-y-3 pt-2"><button id="open-camera-btn"
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg flex items-center justify-center space-x-3 transition-colors"><i
                            data-lucide="camera" class="w-5 h-5"></i><span>Open Camera</span></button><button
                        id="upload-file-btn"
                        class="w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 px-4 rounded-lg flex items-center justify-center space-x-3 transition-colors"><i
                            data-lucide="file-up" class="w-5 h-5"></i><span>Upload from File</span></button></div>
                <button id="cancel-scan-choice-btn"
                    class="w-full text-center text-gray-500 hover:text-gray-800 pt-2">Cancel</button>
            </div>
        </div>
        <div id="camera-modal" class="fixed inset-0 bg-black flex flex-col items-center justify-center z-50 hidden">
            <video id="camera-feed" class="w-full h-full object-cover" autoplay playsinline></video><canvas
                id="camera-canvas" class="hidden"></canvas>
            <div class="absolute bottom-0 left-0 right-0 bg-black/50 p-4 flex justify-center"><button id="capture-btn"
                    class="w-16 h-16 bg-white rounded-full border-4 border-gray-400 focus:outline-none ring-2 ring-offset-4 ring-offset-black/50 ring-white"></button>
            </div><button id="close-camera-btn"
                class="absolute top-4 right-4 text-white bg-black/50 rounded-full p-2"><i data-lucide="x"
                    class="w-8 h-8"></i></button>
        </div>
    </div>


    <!-- JavaScript -->
    <script>
        lucide.createIcons();

        // --- AUTHENTICATION & PAGE FLOW ---
        const roleSelectionPage = document.getElementById('role-selection-page');
        const farmerLoginPage = document.getElementById('farmer-login-page');
        const vetLoginPage = document.getElementById('vet-login-page');
        const vetOtpPage = document.getElementById('vet-otp-page');
        const cooperativeLoginPage = document.getElementById('cooperative-login-page');
        const appContainer = document.getElementById('app-container');

        const farmerRoleBtn = document.getElementById('farmer-role-btn');
        const vetRoleBtn = document.getElementById('vet-role-btn');
        const cooperativeRoleBtn = document.getElementById('cooperative-role-btn');

        const backToRoleBtn = document.getElementById('back-to-role-btn');
        const backToRoleFromVetBtn = document.getElementById('back-to-role-from-vet-btn');
        const backToVetLoginBtn = document.getElementById('back-to-vet-login-btn');
        const backToRoleFromCoopBtn = document.getElementById('back-to-role-from-coop-btn');
        const logoutBtn = document.getElementById('logout-btn');

        // Farmer OTP elements
        const otpForm = document.getElementById('otp-form');
        const mobileNumberInput = document.getElementById('mobile-number');
        const sendOtpBtn = document.getElementById('send-otp-btn');
        const otpSection = document.getElementById('otp-section');
        const otpMobileNumberSpan = document.getElementById('otp-mobile-number');

        // Vet Application elements
        const vetApplicationForm = document.getElementById('vet-application-form');
        const serviceTypeOptions = document.getElementById('service-type-options');
        const browseFilesBtn = document.getElementById('browse-files-btn');
        const vetCertUpload = document.getElementById('vet-certification-upload');
        const fileNameDisplay = document.getElementById('file-name-display');

        // Vet OTP elements
        const vetOtpForm = document.getElementById('vet-otp-form');
        const vetMobileNumberInput = document.getElementById('vet-mobile-number');
        const vetSendOtpBtn = document.getElementById('vet-send-otp-btn');
        const vetOtpSection = document.getElementById('vet-otp-section');
        const vetOtpMobileNumberSpan = document.getElementById('vet-otp-mobile-number');

        // Cooperative elements
        const cooperativeForm = document.getElementById('cooperative-form');

        function showAuthPage(pageToShow) {
            [roleSelectionPage, farmerLoginPage, vetLoginPage, vetOtpPage, cooperativeLoginPage, appContainer].forEach(page => {
                if (page) page.classList.add('hidden');
            });
            if (pageToShow) pageToShow.classList.remove('hidden');
        }

        function showApp() {
            document.body.classList.add('app-active');
            showAuthPage(appContainer);

            if (!appContainer.dataset.initialized) {
                initializeAppFunctions();
                appContainer.dataset.initialized = 'true';
            }
        }

        function showRoleSelection() {
            document.body.classList.remove('app-active');
            showAuthPage(roleSelectionPage);
        }

        // --- Event Listeners ---
        if (farmerRoleBtn) farmerRoleBtn.addEventListener('click', () => showAuthPage(farmerLoginPage));
        if (vetRoleBtn) vetRoleBtn.addEventListener('click', () => showAuthPage(vetLoginPage));
        
        // Check if the cooperative button exists before adding listener
        if (cooperativeRoleBtn) {
            cooperativeRoleBtn.addEventListener('click', () => showAuthPage(cooperativeLoginPage));
        }


        if (backToRoleBtn) backToRoleBtn.addEventListener('click', showRoleSelection);
        if (backToRoleFromVetBtn) backToRoleFromVetBtn.addEventListener('click', showRoleSelection);
        if (backToVetLoginBtn) backToVetLoginBtn.addEventListener('click', () => showAuthPage(vetLoginPage));
        
        // Check if the back button for cooperative page exists before adding listener
        if (backToRoleFromCoopBtn) {
            backToRoleFromCoopBtn.addEventListener('click', showRoleSelection);
        }


        if (logoutBtn) logoutBtn.addEventListener('click', showRoleSelection);

        // Farmer Login Logic
        if (mobileNumberInput) {
            mobileNumberInput.addEventListener('input', () => {
                if (mobileNumberInput.value.trim().length >= 10) {
                    sendOtpBtn.classList.remove('hidden');
                } else {
                    sendOtpBtn.classList.add('hidden');
                    otpSection.classList.add('hidden');
                }
            });
        }


        if (sendOtpBtn) {
            sendOtpBtn.addEventListener('click', () => {
                otpMobileNumberSpan.textContent = mobileNumberInput.value.trim();
                sendOtpBtn.classList.add('hidden');
                otpSection.classList.remove('hidden');
            });
        }


        if (otpForm) {
            otpForm.addEventListener('submit', (e) => { e.preventDefault(); showApp(); });
        }



        // Vet Login Logic
    let selectedServiceType = null; // store selected service type globally

// Form submit: show OTP page
if (vetApplicationForm) {
    vetApplicationForm.addEventListener('submit', (e) => {
        e.preventDefault(); // prevent default form submit

        // Get the selected service type
        selectedServiceType = document.querySelector('input[name="service-type"]:checked').value;

        // Always show OTP page first
        showAuthPage(vetOtpPage);
    });
}

// File upload logic (works for both)
if (browseFilesBtn) {
    browseFilesBtn.addEventListener('click', () => vetCertUpload.click());
}

if (vetCertUpload) {
    vetCertUpload.addEventListener('change', () => {
        if (vetCertUpload.files.length > 0) {
            fileNameDisplay.textContent = vetCertUpload.files[0].name;
            fileNameDisplay.classList.add('text-green-600', 'font-semibold');
        }
    });
}


// Mobile number input logic (works for both)
if (vetMobileNumberInput) {
    vetMobileNumberInput.addEventListener('input', () => {
        if (vetMobileNumberInput.value.trim().length >= 10) {
            vetSendOtpBtn.classList.remove('hidden');
        } else {
            vetSendOtpBtn.classList.add('hidden');
            vetOtpSection.classList.add('hidden');
        }
    });
}


// Send OTP button
if (vetSendOtpBtn) {
    vetSendOtpBtn.addEventListener('click', () => {
        vetOtpMobileNumberSpan.textContent = vetMobileNumberInput.value.trim();
        vetSendOtpBtn.classList.add('hidden');
        vetOtpSection.classList.remove('hidden');
    });
}


// OTP form submit: go to different final pages
if (vetOtpForm) {
    vetOtpForm.addEventListener('submit', (e) => {
        e.preventDefault();

        if (selectedServiceType === "volunteer") {
            window.location.href = "nofvetworkingtesaract1.html"; // final page for volunteer
        } else if (selectedServiceType === "professional") {
            window.location.href = "fvetworkingtesaract.html"; // final page for professional
        }
    });
}


        // Cooperative Logic
        if (cooperativeForm) {
            cooperativeForm.addEventListener('submit', (e) => { e.preventDefault(); showApp(); });
        }



        if (serviceTypeOptions) {
            serviceTypeOptions.addEventListener('click', (e) => {
                const label = e.target.closest('label');
                if (!label) return;

                serviceTypeOptions.querySelectorAll('label').forEach(lbl => {
                    lbl.classList.remove('border-green-500', 'bg-green-50', 'border-purple-500', 'bg-purple-50');
                    lbl.classList.add('border-gray-300');
                });

                const radio = label.querySelector('input[type="radio"]');
                if (radio.value === 'volunteer') {
                    label.classList.add('border-green-500', 'bg-green-50');
                } else {
                    label.classList.add('border-purple-500', 'bg-purple-50');
                }
                radio.checked = true;
            });
        }


        // Function to run all initializations after login
        function initializeAppFunctions() {
            lucide.createIcons();

            // --- DYNAMIC STATS ---
            function updateDashboardStats() {
                const withdrawalList = document.querySelector('#home-slider > div:nth-child(1)');
                const safeList = document.querySelector('#home-slider > div:nth-child(2)');

                if (withdrawalList && safeList) {
                    const withdrawalCount = withdrawalList.children.length;
                    const compliantCount = safeList.children.length;
                    const totalAnimals = withdrawalCount + compliantCount;

                    document.getElementById('withdrawal-stat').textContent = withdrawalCount;
                    document.getElementById('compliant-stat').textContent = compliantCount;
                    document.getElementById('total-animals-stat').textContent = totalAnimals;

                    const withdrawalRate = totalAnimals > 0 ? ((withdrawalCount / totalAnimals) * 100).toFixed(0) : 0;
                    document.getElementById('withdrawal-rate-stat').textContent = `${withdrawalRate}%`;
                }
            }

            // --- PAGE NAVIGATION ---
            const pages = document.querySelectorAll('.page');
            const navLinks = document.querySelectorAll('.nav-link');
            const headerTitle = document.getElementById('header-title');

            window.switchPage = function (pageId) {
                if (typeof pageId !== 'string') return;
                pages.forEach(page => {
                    page.classList.toggle('hidden', page.id !== pageId);
                });
                navLinks.forEach(link => {
                    link.classList.remove('bg-green-100', 'text-green-700', 'font-semibold');
                    link.classList.add('text-gray-600', 'hover:bg-gray-100');

                    if (link.id === `nav-${pageId.split('-')[0]}`) {
                        link.classList.add('bg-green-100', 'text-green-700', 'font-semibold');
                        link.classList.remove('text-gray-600', 'hover:bg-gray-100');
                    }
                });

                if (pageId === 'home-page') headerTitle.textContent = 'Home';
                else if (pageId === 'animals-page') headerTitle.textContent = 'My Animals';
                else if (pageId === 'education-page') headerTitle.textContent = 'Knowledge Center';

                closeSidebar();
            }

            document.getElementById('nav-home').addEventListener('click', (e) => { e.preventDefault(); switchPage('home-page'); });
            document.getElementById('nav-animals').addEventListener('click', (e) => { e.preventDefault(); switchPage('animals-page'); });
            document.getElementById('nav-education').addEventListener('click', (e) => { e.preventDefault(); switchPage('education-page'); });
            document.getElementById('education-center-btn').addEventListener('click', (e) => { e.preventDefault(); switchPage('education-page'); });


            // --- HOME PAGE SLIDER ---
            function setupHomeSlider() {
                const slider = document.getElementById('home-slider');
                const container = document.getElementById('home-slider-container');
                const tabs = [document.getElementById('home-tab-0'), document.getElementById('home-tab-1')];
                if (!slider || !container || !tabs.every(t => t)) return;

                const slides = slider.children;
                window.showHomeCategory = function (index) {
                    if (slides[index]) container.style.height = `${slides[index].offsetHeight}px`;
                    slider.style.transform = `translateX(-${index * 100}%)`;
                    tabs.forEach((tab, i) => {
                        tab.classList.toggle('text-green-600', i === index);
                        tab.classList.toggle('border-green-500', i === index);
                        tab.classList.toggle('text-gray-500', i !== index);
                        tab.classList.toggle('border-transparent', i !== index);
                    });
                }
                window.addEventListener('resize', () => showHomeCategory(tabs.findIndex(t => t.classList.contains('border-green-500'))));
                setTimeout(() => showHomeCategory(0), 100);
            }
            setupHomeSlider();


            // --- ANIMAL PAGE SLIDER ---
            function setupAnimalSlider() {
                const slider = document.getElementById('animal-slider');
                const container = document.getElementById('animal-slider-container');
                const tabs = [document.getElementById('animal-tab-0'), document.getElementById('animal-tab-1')];
                if (!slider || !container || !tabs.every(t => t)) return;

                const slides = slider.children;
                window.showAnimalCategory = function (index) {
                    if (slides[index]) container.style.height = `${slides[index].offsetHeight}px`;
                    slider.style.transform = `translateX(-${index * 100}%)`;
                    tabs.forEach((tab, i) => {
                        tab.classList.toggle('text-green-600', i === index);
                        tab.classList.toggle('border-green-500', i === index);
                        tab.classList.toggle('text-gray-500', i !== index);
                        tab.classList.toggle('border-transparent', i !== index);
                    });
                }

                window.addEventListener('resize', () => showAnimalCategory(tabs.findIndex(t => t.classList.contains('border-green-500'))));
                document.getElementById('nav-animals').addEventListener('click', () => setTimeout(() => showAnimalCategory(0), 10));
            }
            setupAnimalSlider();

            // --- SIDEBAR MENU LOGIC ---
            const hamburgerBtn = document.getElementById('hamburger-btn');
            const sidebarMenu = document.getElementById('sidebar-menu');
            const sidebarOverlay = document.getElementById('sidebar-overlay');
            const closeSidebarBtn = document.getElementById('close-sidebar-btn');

            const openSidebar = () => {
                sidebarMenu.classList.remove('-translate-x-full');
                sidebarOverlay.classList.remove('hidden');
                lucide.createIcons();
            };

            const closeSidebar = () => {
                sidebarMenu.classList.add('-translate-x-full');
                sidebarOverlay.classList.add('hidden');
            };

            hamburgerBtn.addEventListener('click', openSidebar);
            closeSidebarBtn.addEventListener('click', closeSidebar);
            sidebarOverlay.addEventListener('click', closeSidebar);

            // --- MODAL HANDLING ---

            // Treatment Modal
            const addTreatmentBtn = document.getElementById('add-treatment-btn');
            const treatmentModal = document.getElementById('treatment-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const cancelBtn = document.getElementById('cancel-btn');
            const treatmentForm = document.getElementById('treatment-form');

            if (addTreatmentBtn && treatmentModal && closeModalBtn && cancelBtn && treatmentForm) {
                addTreatmentBtn.addEventListener('click', () => {
                    treatmentModal.classList.remove('hidden');
                    lucide.createIcons();
                });

                const closeModal = () => {
                    treatmentModal.classList.add('hidden');
                }

                closeModalBtn.addEventListener('click', closeModal);
                cancelBtn.addEventListener('click', closeModal);

                treatmentForm.addEventListener('submit', (event) => {
                    event.preventDefault();
                    const record = {
                        animalName: document.getElementById('animal-name').value,
                        animalId: document.getElementById('animal-id').value,
                        species: document.getElementById('species').value,
                        age: document.getElementById('age').value,
                        drugName: document.getElementById('drug-name').value,
                        treatmentDate: document.getElementById('treatment-date').value,
                        dose: document.getElementById('dose').value,
                        frequency: document.getElementById('frequency').value,
                        route: document.getElementById('route').value,
                        reason: document.getElementById('reason').value,
                    };

                    addNewAnimalCard(record);

                    // alert('Record Saved!');
                    treatmentForm.reset();
                    closeModal();
                });

                treatmentModal.addEventListener('click', (event) => {
                    if (event.target === treatmentModal) {
                        closeModal();
                    }
                });
            }

            // Vet Booking Modal
            const findVetBtn = document.getElementById('find-vet-btn');
            const vetModal = document.getElementById('vet-modal');
            const closeVetModalBtn = document.getElementById('close-vet-modal-btn');

            if (findVetBtn && vetModal && closeVetModalBtn) {
                findVetBtn.addEventListener('click', () => {
                    vetModal.classList.remove('hidden');
                    lucide.createIcons();
                });

                const closeVetModal = () => {
                    vetModal.classList.add('hidden');
                }

                closeVetModalBtn.addEventListener('click', closeVetModal);

                vetModal.addEventListener('click', (event) => {
                    if (event.target === vetModal) {
                        closeVetModal();
                    }
                });
            }

            // --- VET BOOKING LOGIC ---
            const vetList = document.getElementById('vet-list');
            const bookedAppointmentCard = document.getElementById('booked-appointment-card');
            const bookedVetNameEl = document.getElementById('booked-vet-name');
            const bookedSlotTimeEl = document.getElementById('booked-slot-time');

            if (vetList && bookedAppointmentCard && bookedVetNameEl && bookedSlotTimeEl) {
                vetList.addEventListener('click', function (event) {
                    const slotButton = event.target.closest('.vet-slot-btn');

                    if (!slotButton || slotButton.disabled) return;

                    const vetName = slotButton.dataset.vetName;
                    const slotTime = slotButton.dataset.slot;

                    bookedVetNameEl.textContent = vetName;
                    bookedSlotTimeEl.textContent = slotTime;
                    bookedAppointmentCard.classList.remove('hidden');
                    lucide.createIcons();

                    if (vetModal) vetModal.classList.add('hidden');

                    alert(`Appointment booked with ${vetName} for ${slotTime}!`);

                    slotButton.disabled = true;
                    slotButton.classList.remove('hover:bg-green-600');
                    slotButton.classList.add('bg-green-700', 'cursor-not-allowed');
                    slotButton.innerHTML = `<i data-lucide="check" class="w-4 h-4"></i> Booked`;
                    lucide.createIcons();
                });
            }

            // --- PRESCRIPTION SCANNER LOGIC ---
            const scanBtn = document.getElementById('scan-btn');
            const prescriptionScannerInput = document.getElementById('prescription-scanner');
            const scannerLoaderModal = document.getElementById('scanner-loader-modal');
            const scanChoiceModal = document.getElementById('scan-choice-modal');
            const openCameraBtn = document.getElementById('open-camera-btn');
            const uploadFileBtn = document.getElementById('upload-file-btn');
            const cancelScanChoiceBtn = document.getElementById('cancel-scan-choice-btn');

            const cameraModal = document.getElementById('camera-modal');
            const cameraFeed = document.getElementById('camera-feed');
            const cameraCanvas = document.getElementById('camera-canvas');
            const captureBtn = document.getElementById('capture-btn');
            const closeCameraBtn = document.getElementById('close-camera-btn');
            let cameraStream = null;

            if (scanBtn) {
                scanBtn.addEventListener('click', () => {
                    scanChoiceModal.classList.remove('hidden');
                    lucide.createIcons();
                });

                const closeScanChoiceModal = () => scanChoiceModal.classList.add('hidden');
                openCameraBtn.addEventListener('click', () => { startCamera(); closeScanChoiceModal(); });
                uploadFileBtn.addEventListener('click', () => { prescriptionScannerInput.click(); closeScanChoiceModal(); });
                cancelScanChoiceBtn.addEventListener('click', closeScanChoiceModal);

                prescriptionScannerInput.addEventListener('change', async (event) => {
                    const file = event.target.files[0];
                    await processScannedFile(file);
                    event.target.value = '';
                });

                async function startCamera() {
                    try {
                        const constraints = { video: { facingMode: 'environment' } };
                        cameraStream = await navigator.mediaDevices.getUserMedia(constraints);
                        cameraFeed.srcObject = cameraStream;
                        cameraModal.classList.remove('hidden');
                        lucide.createIcons();
                    } catch (err) { alert("Could not access the camera."); }
                }

                function stopCamera() {
                    if (cameraStream) cameraStream.getTracks().forEach(track => track.stop());
                    cameraModal.classList.add('hidden');
                }

                closeCameraBtn.addEventListener('click', stopCamera);

                captureBtn.addEventListener('click', () => {
                    cameraCanvas.width = cameraFeed.videoWidth;
                    cameraCanvas.height = cameraFeed.videoHeight;
                    cameraCanvas.getContext('2d').drawImage(cameraFeed, 0, 0);
                    stopCamera();
                    cameraCanvas.toBlob(async (blob) => {
                        await processScannedFile(new File([blob], "prescription.jpg", { type: "image/jpeg" }));
                    }, 'image/jpeg');
                });

            }

            async function processScannedFile(file) {
                if (!file) return;
                scannerLoaderModal.style.display = 'flex';
                try {
                    const ocrResult = await simulateDeepSeekOcr(file);
                    populateTreatmentForm(ocrResult);
                    if (treatmentModal) {
                        treatmentModal.classList.remove('hidden');
                        lucide.createIcons();
                    }
                } catch (error) {
                    alert(`Failed to scan prescription: ${error.message}`);
                } finally {
                    scannerLoaderModal.style.display = 'none';
                }
            }

            function populateTreatmentForm(data) {
                if (!data) return;
                const drugSelect = document.getElementById('drug-name');
                let drugFound = false;
                for (let option of drugSelect.options) {
                    if (data.medicineName.toLowerCase().includes(option.value.toLowerCase())) {
                        option.selected = true;
                        drugFound = true;
                        break;
                    }
                }
                document.getElementById('dose').value = data.dosage || '';
                document.getElementById('frequency').value = data.frequency || '';
                let reasonText = `Condition: ${data.condition}\nDuration: ${data.duration}\nNotes: ${data.notes}`;
                document.getElementById('reason').value = reasonText;
            }

            function simulateDeepSeekOcr(file) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve({
                            "medicineName": "Amoxicillin 500mg", "dosage": "1 tablet", "frequency": "Twice daily", "duration": "7 days", "condition": "Bacterial Infection", "notes": "Take with food."
                        });
                    }, 2000);
                });
            }

            // --- DYNAMIC ANIMAL CARD LOGIC ---
            function createAnimalCard(record) {
                const isWithdrawal = record.drugName && record.treatmentDate;
                const cardId = `animal-${record.animalId || Math.random().toString(36).substr(2, 9)}`;

                let detailsHtml = '';
                let badgeHtml = '';
                let paddingClass = 'p-4';

                if (isWithdrawal) {
                    const today = new Date();
                    const withdrawalDate = new Date(record.treatmentDate);
                    withdrawalDate.setDate(withdrawalDate.getDate() + 14); // Assume 14 day withdrawal
                    const daysRemaining = Math.max(0, Math.ceil((withdrawalDate - today) / (1000 * 60 * 60 * 24)));

                    badgeHtml = `<div class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-1 rounded-full flex items-center space-x-1.5"><i data-lucide="alert-triangle" class="w-3 h-3"></i><span>Withdrawal Period</span></div>`;
                    detailsHtml = `
                        <div class="flex justify-between"><span class="text-gray-500">Drug:</span><span>${record.drugName}</span></div>
                        <div class="flex justify-between"><span class="text-gray-500">Withdrawal Date:</span><span class="flex items-center gap-2"><i data-lucide="calendar" class="w-4 h-4 text-gray-400"></i>${withdrawalDate.toISOString().split('T')[0]}</span></div>
                        <div class="flex justify-between"><span class="text-gray-500">Days Remaining:</span><span class="flex items-center gap-2 font-bold text-red-600"><i data-lucide="clock" class="w-4 h-4"></i>${daysRemaining} days</span></div>
                    `;
                } else {
                    paddingClass = 'p-8';
                    badgeHtml = `<div class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-1 rounded-full flex items-center space-x-1.5"><i data-lucide="check-circle" class="w-3 h-3"></i><span>Safe for Sale</span></div>`;
                    detailsHtml = `
                        <div class="flex justify-between"><span class="text-gray-500">Drug:</span><span>N/A</span></div>
                        <div class="flex justify-between"><span class="text-gray-500">Last Check:</span><span class="flex items-center gap-2"><i data-lucide="calendar" class="w-4 h-4 text-gray-400"></i>${new Date().toISOString().split('T')[0]}</span></div>
                    `;
                }

                return `
                    <div id="${cardId}" class="bg-white ${paddingClass} rounded-xl space-y-4 shadow-sm border border-gray-200">
                        <div class="flex justify-between items-center">
                            <div>
                                <h3 class="text-lg font-bold text-gray-800">${record.animalName || 'Unnamed'}</h3>
                                <p class="text-sm text-gray-500">${record.species || 'Unknown'} ‚Ä¢ ID: ${record.animalId || 'N/A'}</p>
                            </div>
                            ${badgeHtml}
                        </div>
                        <div class="space-y-3 text-sm text-gray-800">${detailsHtml}</div>
                    </div>
                `;
            }

            window.addNewAnimalCard = function (record) {
                const isWithdrawal = record.drugName && record.treatmentDate;
                const newCardHtml = createAnimalCard(record);

                // Add to Home Page
                const homeListContainer = document.querySelector(`#home-slider > div:nth-child(${isWithdrawal ? 1 : 2})`);
                if (homeListContainer) {
                    homeListContainer.insertAdjacentHTML('beforeend', newCardHtml);
                    setTimeout(() => showHomeCategory(isWithdrawal ? 0 : 1), 50);
                }

                // Add to Animals Page
                const animalListContainer = document.querySelector(`#animal-slider > div:nth-child(${isWithdrawal ? 1 : 2})`);
                if (animalListContainer) {
                    animalListContainer.insertAdjacentHTML('beforeend', newCardHtml);
                }

                lucide.createIcons(); // Redraw all icons to include the new ones
                updateDashboardStats(); // Update the dashboard counts
            }

            updateDashboardStats(); // Initial count on app load
        }

        // --- LANGUAGE SWITCHER LOGIC ---
        const translations = {
            EN: {
                appTitle: 'ResiTrace', appSubtitle: 'Next-Gen Agricultural Technology',
                appDescription1: 'Comprehensive livestock management system for farmers, veterinarians, and cooperatives.',
                appDescription2: 'Track animal health, manage prescriptions, and ensure compliance with antimicrobial usage guidelines.',
                farmerSubheading: 'SMART FARMING', farmerTitle: 'Farmer', farmerDescription: 'Manage your livestock and track animal health data',
                vetSubheading: 'EXPERT CARE', vetTitle: 'Veterinarian', vetDescription: 'Provide professional animal health services',
                coopSubheading: 'TRUSTED NETWORK', coopTitle: 'Cooperative', coopDescription: 'Manage regional data and support local farmers',
                selectRole: 'Select Role', feature1: 'Professional Vet Services', feature2: 'Community Network', feature3: 'Smart Analytics',
                farmerPortalTitle: 'Farmer Portal', farmerPortalDescription: 'Enter your mobile number to access your farm dashboard',
                mobileNumberLabel: 'Mobile Number', sendOtp: 'Send OTP', enterOtpLabel: 'Enter OTP', otpSentTo: 'OTP sent to',
                otpDemo: "", verifyAndEnter: 'Verify & Enter Farm', resendOtp: 'Resend OTP',
                backToRoleSelection: 'Back to Role Selection',
                userName: 'Rajiv Kumar', farmId: 'FARM-001',
                navHome: 'Home', navAnimals: 'My Animals', navEducation: 'Education Center', navReports: 'Reports', navSettings: 'Settings', navLogout: 'Logout',
                scanButton: 'Scan', statTotalAnimals: 'Total Animals', statHerd: 'Dairy cattle in herd', statCompliant: 'Compliant', statSafe: 'Safe for sale',
                statWithdrawal: 'In Withdrawal', statAwaiting: 'Awaiting clearance', statCompliance: 'Withdrawal Rate', statRating: 'of total herd',
                animalStatus: 'Animal Status', tabWithdrawal: 'In Withdrawal', tabSafe: 'Safe for Sale', quickActions: 'Quick Actions',
                actionAdd: 'Add Treatment Record', actionFindVet: 'Find Veterinarian', actionEducation: 'Education Center', recentActivity: 'Recent Activity',
                knowledgeCenterTitle: 'Knowledge Center', knowledgeCenterDescription: 'Learn about antimicrobial use, compliance requirements, and best practices for livestock health management in multiple languages.'
            },
            HI: {
                appTitle: '‡§∞‡•á‡§∏‡•Ä‡§ü‡•ç‡§∞‡•á‡§∏', appSubtitle: '‡§Ö‡§ó‡§≤‡•Ä ‡§™‡•Ä‡§¢‡§º‡•Ä ‡§ï‡•Ä ‡§ï‡•É‡§∑‡§ø ‡§™‡•ç‡§∞‡•å‡§¶‡•ç‡§Ø‡•ã‡§ó‡§ø‡§ï‡•Ä',
                appDescription1: '‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç, ‡§™‡§∂‡•Å ‡§ö‡§ø‡§ï‡§ø‡§§‡•ç‡§∏‡§ï‡•ã‡§Ç ‡§î‡§∞ ‡§∏‡§π‡§ï‡§æ‡§∞‡•Ä ‡§∏‡§Æ‡§ø‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§µ‡•ç‡§Ø‡§æ‡§™‡§ï ‡§™‡§∂‡•Å‡§ß‡§® ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä‡•§',
                appDescription2: '‡§™‡§∂‡•Å ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§ï‡•ã ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡•á‡§Ç, ‡§®‡•Å‡§∏‡•ç‡§ñ‡•á ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç, ‡§î‡§∞ ‡§∞‡•ã‡§ó‡§æ‡§£‡•Å‡§∞‡•ã‡§ß‡•Ä ‡§â‡§™‡§Ø‡•ã‡§ó ‡§¶‡§ø‡§∂‡§æ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡•ã‡§Ç ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§™‡§æ‡§≤‡§® ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§',
                farmerSubheading: '‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§ñ‡•á‡§§‡•Ä', farmerTitle: '‡§ï‡§ø‡§∏‡§æ‡§®', farmerDescription: '‡§Ö‡§™‡§®‡•á ‡§™‡§∂‡•Å‡§ì‡§Ç ‡§ï‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§™‡§∂‡•Å ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§°‡•á‡§ü‡§æ ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡•á‡§Ç',
                vetSubheading: '‡§µ‡§ø‡§∂‡•á‡§∑‡§ú‡•ç‡§û ‡§¶‡•á‡§ñ‡§≠‡§æ‡§≤', vetTitle: '‡§™‡§∂‡•Å‡§ö‡§ø‡§ï‡§ø‡§§‡•ç‡§∏‡§ï', vetDescription: '‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§™‡§∂‡•Å ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§∏‡•á‡§µ‡§æ‡§è‡§Ç ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç',
                coopSubheading: '‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï', coopTitle: '‡§∏‡§π‡§ï‡§æ‡§∞‡•Ä', coopDescription: '‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡•Ä‡§Ø ‡§°‡•á‡§ü‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡§æ ‡§∏‡§Æ‡§∞‡•ç‡§•‡§® ‡§ï‡§∞‡•á‡§Ç',
                selectRole: '‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç', feature1: '‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§™‡§∂‡•Å ‡§ö‡§ø‡§ï‡§ø‡§§‡•ç‡§∏‡§æ ‡§∏‡•á‡§µ‡§æ‡§è‡§Ç', feature2: '‡§∏‡§æ‡§Æ‡•Å‡§¶‡§æ‡§Ø‡§ø‡§ï ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï', feature3: '‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§è‡§®‡§æ‡§≤‡§ø‡§ü‡§ø‡§ï‡•ç‡§∏',
                farmerPortalTitle: '‡§ï‡§ø‡§∏‡§æ‡§® ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤', farmerPortalDescription: '‡§Ö‡§™‡§®‡•á ‡§ñ‡•á‡§§ ‡§ï‡•á ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§° ‡§§‡§ï ‡§™‡§π‡•Å‡§Ç‡§ö‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§™‡§®‡§æ ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç',
                mobileNumberLabel: '‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞', sendOtp: '‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§≠‡•á‡§ú‡•á‡§Ç', enterOtpLabel: '‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç', otpSentTo: '‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§≠‡•á‡§ú‡§æ ‡§ó‡§Ø‡§æ',
                otpDemo: "‡§°‡•á‡§Æ‡•ã ‡§ï‡•á ‡§≤‡§ø‡§è '123456' ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç‡•§", verifyAndEnter: '‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§ñ‡•á‡§§ ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§µ‡•á‡§∂ ‡§ï‡§∞‡•á‡§Ç', resendOtp: '‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§≠‡•á‡§ú‡•á‡§Ç',
                backToRoleSelection: '‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ ‡§ö‡§Ø‡§® ‡§™‡§∞ ‡§µ‡§æ‡§™‡§∏ ‡§ú‡§æ‡§è‡§Ç',
                userName: '‡§∞‡§æ‡§ú‡•Ä‡§µ ‡§ï‡•Å‡§Æ‡§æ‡§∞', farmId: '‡§´‡§æ‡§∞‡•ç‡§Æ-001',
                navHome: '‡§π‡•ã‡§Æ', navAnimals: '‡§Æ‡•á‡§∞‡•á ‡§™‡§∂‡•Å', navEducation: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞', navReports: '‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü', navSettings: '‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏', navLogout: '‡§≤‡•â‡§ó ‡§Ü‡§â‡§ü',
                scanButton: '‡§∏‡•ç‡§ï‡•à‡§®', statTotalAnimals: '‡§ï‡•Å‡§≤ ‡§™‡§∂‡•Å', statHerd: '‡§ù‡•Å‡§Ç‡§° ‡§Æ‡•á‡§Ç ‡§°‡•á‡§Ø‡§∞‡•Ä ‡§™‡§∂‡•Å', statCompliant: '‡§Ö‡§®‡•Å‡§™‡§æ‡§≤‡§ï', statSafe: '‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§',
                statWithdrawal: '‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§Æ‡•á‡§Ç', statAwaiting: '‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§π‡•à', statCompliance: '‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§¶‡§∞', statRating: '‡§ï‡•Å‡§≤ ‡§ù‡•Å‡§Ç‡§° ‡§ï‡§æ',
                animalStatus: '‡§™‡§∂‡•Å ‡§∏‡•ç‡§•‡§ø‡§§‡§ø', tabWithdrawal: '‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§Æ‡•á‡§Ç', tabSafe: '‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§', quickActions: '‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§ï‡§æ‡§∞‡•ç‡§∞‡§µ‡§æ‡§á‡§Ø‡§æ‡§Ç',
                actionAdd: '‡§â‡§™‡§ö‡§æ‡§∞ ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§ú‡•ã‡§°‡§º‡•á‡§Ç', actionFindVet: '‡§™‡§∂‡•Å‡§ö‡§ø‡§ï‡§ø‡§§‡•ç‡§∏‡§ï ‡§ñ‡•ã‡§ú‡•á‡§Ç', actionEducation: '‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞', recentActivity: '‡§π‡§æ‡§≤ ‡§ï‡•Ä ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø',
                knowledgeCenterTitle: '‡§ú‡•ç‡§û‡§æ‡§® ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞', knowledgeCenterDescription: '‡§ï‡§à ‡§≠‡§æ‡§∑‡§æ‡§ì‡§Ç ‡§Æ‡•á‡§Ç ‡§™‡§∂‡•Å‡§ß‡§® ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∞‡•ã‡§ó‡§æ‡§£‡•Å‡§∞‡•ã‡§ß‡•Ä ‡§â‡§™‡§Ø‡•ã‡§ó, ‡§Ö‡§®‡•Å‡§™‡§æ‡§≤‡§® ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ‡§ì‡§Ç ‡§î‡§∞ ‡§∏‡§∞‡•ç‡§µ‡•ã‡§§‡•ç‡§§‡§Æ ‡§™‡•ç‡§∞‡§•‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§®‡•á‡§Ç‡•§'
            },
            KN: { appTitle: '‡≤∞‡≥Ü‡≤∏‡≤ø‡≤ü‡≥ç‡≤∞‡≥á‡≤∏‡≥ç', appSubtitle: '‡≤Æ‡≥Å‡≤Ç‡≤¶‡≤ø‡≤® ‡≤™‡≥Ä‡≤≥‡≤ø‡≤ó‡≥Ü‡≤Ø ‡≤ï‡≥É‡≤∑‡≤ø ‡≤§‡≤Ç‡≤§‡≥ç‡≤∞‡≤ú‡≥ç‡≤û‡≤æ‡≤®' },
            TE: { appTitle: '‡∞∞‡±Ü‡∞∏‡∞ø‡∞ü‡±ç‡∞∞‡±á‡∞∏‡±ç', appSubtitle: '‡∞§‡∞¶‡±Å‡∞™‡∞∞‡∞ø ‡∞§‡∞∞‡∞Ç ‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø ‡∞∏‡∞æ‡∞Ç‡∞ï‡±á‡∞§‡∞ø‡∞ï‡∞§' }
        };

        function setLanguage(lang) {
            const translation = translations[lang] || translations.EN;
            document.querySelectorAll('[data-translate]').forEach(el => {
                const key = el.dataset.translate;
                if (translation[key]) {
                    el.textContent = translation[key];
                } else if (lang !== 'EN') {
                    // Fallback to a placeholder if translation is missing
                    el.textContent = `${lang} placeholder`;
                }
            });

            document.querySelectorAll('.current-lang').forEach(el => {
                el.textContent = lang;
            });
        }

        document.addEventListener('click', (e) => {
            const isLangButton = e.target.closest('.lang-switcher-btn');
            const isLangMenu = e.target.closest('.lang-menu');
            const allLangMenus = document.querySelectorAll('.lang-menu');

            if (isLangButton) {
                const menu = isLangButton.nextElementSibling;
                menu.classList.toggle('hidden');
                allLangMenus.forEach(m => {
                    if (m !== menu) m.classList.add('hidden');
                });
                return;
            }

            if (!isLangMenu) {
                allLangMenus.forEach(m => m.classList.add('hidden'));
            }

            if (e.target.classList.contains('lang-option')) {
                e.preventDefault();
                const lang = e.target.dataset.lang;
                setLanguage(lang);
                allLangMenus.forEach(m => m.classList.add('hidden'));
            }
        });
    </script>
</body>

</html>

